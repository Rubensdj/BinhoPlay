<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>S.N.A. ‚Ä¢ Sistema Nacional de Amor</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&family=Playfair+Display:wght@700&family=Courier+Prime&family=Dancing+Script:wght@700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    
    <style>
        * { box-sizing: border-box; margin: 0; padding: 0; outline: none; -webkit-tap-highlight-color: transparent; }
        body { background-color: #f2f4f8; font-family: 'Poppins', sans-serif; color: #333; height: 100vh; overflow: hidden; }

        :root {
            --primary: #003366; 
            --accent: #c0392b;  
            --gold: #d4af37;
        }

        /* --- TELA DE LOGIN (CONFIGURA√á√ÉO) --- */
        #login-screen {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            background: #f2f4f8; z-index: 9999;
            display: flex; flex-direction: column; justify-content: center; align-items: center;
            padding: 20px; overflow-y: auto;
        }
        .login-card {
            background: white; padding: 30px; border-radius: 15px; width: 100%; max-width: 380px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1); text-align: center; border-top: 5px solid var(--primary);
        }
        .login-title { font-family: 'Playfair Display', serif; font-size: 1.8rem; color: var(--primary); margin-bottom: 5px; }
        
        .input-group { text-align: left; margin-bottom: 15px; }
        .input-label { font-size: 0.8rem; font-weight: bold; color: #555; margin-left: 5px; }
        .login-input {
            width: 100%; padding: 12px; border: 1px solid #ccc; border-radius: 8px;
            font-size: 0.95rem; background: #f9f9f9; color: #333;
        }
        .login-btn {
            width: 100%; padding: 15px; background: var(--primary); color: white; border: none;
            border-radius: 8px; font-weight: bold; cursor: pointer; font-size: 1rem; margin-top: 10px;
            box-shadow: 0 5px 15px rgba(0,51,102,0.3);
        }

        /* --- SISTEMA --- */
        #app-container {
            display: none; width: 100%; height: 100%; overflow-y: auto;
            background: #f8f9fa; padding-bottom: 90px;
        }

        .header {
            background: var(--primary); color: white; padding: 15px 20px;
            display: flex; justify-content: space-between; align-items: center;
            position: sticky; top: 0; z-index: 100; box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .section { display: none; padding: 20px; animation: fadeIn 0.4s; }
        .section.active { display: block; }

        .card {
            background: white; border-radius: 12px; padding: 20px; margin-bottom: 15px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05); border: 1px solid #eee;
        }

        /* SUBMENUS */
        .menu-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 15px; }
        .menu-item {
            background: white; padding: 20px; border-radius: 12px; text-align: center;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05); cursor: pointer; border: 1px solid #eee;
        }
        .menu-icon { font-size: 2rem; color: var(--primary); margin-bottom: 10px; }

        /* DOCUMENTOS */
        .doc-paper {
            background: #fffdf0; border: 1px solid #d4af37; padding: 30px; margin-bottom: 20px;
            font-family: 'Courier Prime', monospace; font-size: 0.85rem; line-height: 1.6;
            color: #000; position: relative;
        }
        .stamp {
            position: absolute; bottom: 50px; right: 30px; width: 100px; height: 100px;
            border: 4px double var(--accent); border-radius: 50%; color: var(--accent);
            display: flex; justify-content: center; align-items: center; font-weight: bold;
            transform: rotate(-20deg); opacity: 0.8; font-size: 0.8rem; text-align: center;
        }

        /* NAV */
        .bottom-nav {
            position: fixed; bottom: 0; left: 0; width: 100%; height: 70px; background: white;
            display: flex; justify-content: space-around; align-items: center; border-top: 1px solid #eee; z-index: 1000;
        }
        .nav-btn { display: flex; flex-direction: column; align-items: center; color: #999; font-size: 0.75rem; }
        .nav-btn i { font-size: 1.4rem; margin-bottom: 3px; }
        .nav-btn.active { color: var(--primary); }

        /* ELEMENTOS DIN√ÇMICOS */
        .dynamic-name { text-transform: capitalize; font-weight: bold; }
        
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
    </style>
</head>
<body>

    <audio id="bgMusic" loop><source src="musica.mp3" type="audio/mpeg"></audio>

    <div id="login-screen">
        <div class="login-card">
            <div class="login-title">S.N.A.</div>
            <p style="margin-bottom: 20px; color:#666; font-size:0.8rem;">Sistema Nacional de Amor</p>
            
            <div class="input-group">
                <label class="input-label">Nome da Namorada(o):</label>
                <input type="text" id="targetName" class="login-input" placeholder="Ex: Maria">
            </div>

            <div class="input-group">
                <label class="input-label">Data do In√≠cio (Namoro/Conheceram):</label>
                <input type="date" id="targetDate" class="login-input">
            </div>

            <div class="input-group">
                <label class="input-label">Senha de Acesso:</label>
                <input type="password" id="passwordInput" class="login-input" placeholder="Senha">
            </div>
            
            <button class="login-btn" onclick="enterSystem()">Acessar Sistema</button>
            <p style="margin-top:15px; font-size: 0.7rem; color:#999;">Rubens Pereira Fernandes</p>
        </div>
    </div>

    <div id="app-container">
        
        <div class="header">
            <span>Ol√°, <span class="d-name">Amor</span></span>
            <i class="fas fa-heart"></i>
        </div>

        <div id="tab-home" class="section active">
            <div class="card" style="background: linear-gradient(135deg, #003366, #0056b3); color: white;">
                <h3>Nosso Tempo Juntos</h3>
                <div style="font-size: 2.5rem; font-weight: bold; margin: 10px 0;" id="daysCount">0</div>
                <small id="fullDateDisplay">Dias de Felicidade</small>
            </div>

            <div class="card">
                <h2 class="title" style="font-family: 'Playfair Display'; color: var(--primary); margin-bottom: 10px;">Carta para <span class="d-name">Voc√™</span></h2>
                <div style="text-align: justify; line-height: 1.7; font-size: 0.9rem;">
                    <p>√î meu amor, se tem uma pessoa q tem q agradecer todos os dias sou eu, por ter uma pessoa t√£o incr√≠vel do meu lado, vc n sabe o quanto eu sou feliz s√≥ de ter vc comigo.</p><br>
                    <p>Vc realmente conseguiu me mostrar q nem tudo era do jeito q sempre foi, vc realmente entrou na minha vida para fazer a diferen√ßa e eu te agrade√ßo muito por isso.</p><br>
                    <p>Eu te escolhi e pode ter certeza q eu te escolheria mais 10 vezes se fosse poss√≠vel, vc √© muito mais do q s√≥ uma amiga, acabou se tornando uma parte de mim.</p><br>
                    <p><strong>Te amo, <span class="d-name">___</span>. üíôüíëüíñ‚ú®</strong></p>
                </div>
            </div>
        </div>

        <div id="tab-docs" class="section">
            <div class="card">
                <h3>Contrato de Namoro</h3>
                <p style="font-size: 0.8rem; color: #666; margin-bottom: 10px;">Preencha os dados faltantes para gerar o PDF.</p>
                
                <div id="contract-content" class="doc-paper">
                    <div style="text-align: center; font-weight: bold; border-bottom: 2px solid #000; padding-bottom: 10px; margin-bottom: 20px;">CONTRATO DE NAMORO E AFETO</div>
                    
                    <p style="margin-bottom: 15px;">
                        <strong>I. PARTES:</strong><br>
                        De um lado, <strong>RUBENS PEREIRA FERNANDES</strong>, e de outro, <strong class="d-name-upper">___</strong>.
                    </p>

                    <p style="margin-bottom: 15px;">
                        <strong>II. OBJETO:</strong><br>
                        O presente contrato firma o compromisso de uni√£o, carinho e parceria iniciado em <strong class="d-date">___</strong>.
                    </p>

                    <p style="margin-bottom: 15px;">
                        <strong>III. DADOS DA CONTRATANTE:</strong><br>
                        Nascida em: <input type="date" style="border:none; border-bottom:1px solid #000; background:transparent; font-family:inherit;">,<br>
                        Portadora do CPF (Fict√≠cio): <input type="text" placeholder="000.000.000-00" style="border:none; border-bottom:1px solid #000; width:120px;">.
                    </p>

                    <p style="margin-bottom: 15px;">
                        <strong>IV. CL√ÅUSULAS:</strong><br>
                        1. √â proibido dormir brigado.<br>
                        2. Beijos de bom dia s√£o obrigat√≥rios.<br>
                        3. A fidelidade e o respeito s√£o a base deste acordo.
                    </p>
                    
                    <div style="margin-top: 50px; text-align: center;">
                        ________________________________<br>
                        <span class="d-name">Assinatura</span>
                    </div>

                    <div class="stamp">REGISTRADO<br>EM CART√ìRIO</div>
                </div>
                
                <button style="background: #e74c3c; color: white; padding: 10px; width: 100%; border: none; border-radius: 8px; font-weight: bold; cursor: pointer; display: flex; align-items: center; justify-content: center; gap: 10px;" onclick="downloadPDF()">
                    <i class="fas fa-file-pdf"></i> Baixar e Imprimir (PDF)
                </button>
            </div>
        </div>

        <div id="tab-menu" class="section">
            <h2 style="font-family: 'Playfair Display'; color: var(--primary); margin-bottom: 15px;">Servi√ßos</h2>
            <div class="menu-grid">
                <div class="menu-item" onclick="serviceAction('bank')">
                    <div class="menu-icon"><i class="fas fa-piggy-bank"></i></div>
                    <div class="menu-label">Banco do Amor</div>
                </div>
                <div class="menu-item" onclick="serviceAction('date')">
                    <div class="menu-icon"><i class="fas fa-calendar-check"></i></div>
                    <div class="menu-label">Agendar Date</div>
                </div>
                <div class="menu-item" onclick="serviceAction('chat')">
                    <div class="menu-icon"><i class="fas fa-comments"></i></div>
                    <div class="menu-label">Ouvidoria</div>
                </div>
                <div class="menu-item" onclick="serviceAction('music')">
                    <div class="menu-icon"><i class="fas fa-music"></i></div>
                    <div class="menu-label">Playlist</div>
                </div>
            </div>
        </div>

        <div class="bottom-nav">
            <a onclick="nav('tab-home', this)" class="nav-btn active"><i class="fas fa-home"></i>In√≠cio</a>
            <a onclick="nav('tab-docs', this)" class="nav-btn"><i class="fas fa-file-signature"></i>Contrato</a>
            <a onclick="nav('tab-menu', this)" class="nav-btn"><i class="fas fa-th-large"></i>Servi√ßos</a>
        </div>
    </div>

    <script>
        // --- DADOS GLOBAIS ---
        const MY_PHONE = "5581989501999"; 
        const PASS = "19122025";
        
        let globalName = "Amor";
        let globalDate = new Date(); // Ser√° substitu√≠da pelo input

        // 1. ENTRAR NO SISTEMA (L√≥gica Inteligente)
        function enterSystem() {
            const nameInput = document.getElementById('targetName').value;
            const dateInput = document.getElementById('targetDate').value; // Pega a data do calend√°rio
            const passInput = document.getElementById('passwordInput').value;

            if(passInput !== PASS) {
                alert("Senha incorreta!");
                return;
            }

            if(!nameInput || !dateInput) {
                alert("Por favor, preencha o nome dela e a data!");
                return;
            }

            // Salva os dados
            globalName = nameInput;
            globalDate = new Date(dateInput);

            // Substitui textos no site
            updateInterface();

            // Troca de tela
            document.getElementById('login-screen').style.display = 'none';
            document.getElementById('app-container').style.display = 'block';

            // Inicia contador com a data escolhida
            startTimer();
            
            // Tenta tocar m√∫sica
            document.getElementById('bgMusic').play().catch(()=>{});
        }

        // 2. ATUALIZA NOME E DATA EM TUDO
        function updateInterface() {
            // Nomes
            document.querySelectorAll('.d-name').forEach(el => el.innerText = globalName);
            document.querySelectorAll('.d-name-upper').forEach(el => el.innerText = globalName.toUpperCase());
            
            // Data Formatada (Ex: 15/05/2024)
            const dateStr = globalDate.toLocaleDateString('pt-BR');
            document.querySelectorAll('.d-date').forEach(el => el.innerText = dateStr);
        }

        // 3. CONTADOR DE DIAS (DIN√ÇMICO)
        function startTimer() {
            setInterval(() => {
                const now = new Date();
                const diff = now - globalDate; // Diferen√ßa entre hoje e a data escolhida
                const days = Math.floor(diff / (1000 * 60 * 60 * 24));
                
                if(days < 0) {
                    document.getElementById('daysCount').innerText = "0"; // Data futura
                } else {
                    document.getElementById('daysCount').innerText = days;
                }
            }, 1000);
        }

        // 4. DOWNLOAD PDF
        function downloadPDF() {
            const element = document.getElementById('contract-content');
            const opt = {
                margin: 10,
                filename: `Contrato_${globalName}.pdf`,
                image: { type: 'jpeg', quality: 0.98 },
                html2canvas: { scale: 2 },
                jsPDF: { unit: 'mm', format: 'a4', orientation: 'portrait' }
            };
            alert("Gerando PDF... Aguarde!");
            html2pdf().set(opt).from(element).save();
        }

        // 5. NAVEGA√á√ÉO
        function nav(tabId, btn) {
            document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
            document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
            document.getElementById(tabId).classList.add('active');
            btn.classList.add('active');
        }

        // 6. A√á√ïES DOS SERVI√áOS
        function serviceAction(type) {
            let msg = "";
            if(type === 'bank') msg = "Amor, quero fazer um saque no Banco do Amor! üè¶‚ù§Ô∏è";
            if(type === 'date') msg = "Solicito agendamento de um Date Oficial! üìÖ";
            if(type === 'chat') msg = "Tenho um comunicado para a Ouvidoria do Amor. üó£Ô∏è";
            if(type === 'music') return alert("A m√∫sica j√° est√° tocando no fundo! üéµ");
            
            window.open(`https://wa.me/${MY_PHONE}?text=${encodeURIComponent(msg)}`, '_blank');
        }
    </script>
</body>
</html>
